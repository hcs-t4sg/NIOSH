"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{43040:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(70885),l=n(67294),a=n(98595),s=n(10267),i=n(51252),o=n(9198),u=n.n(o),c=(n(7276),n(19573)),h=n(49505),d=n(63711),x=n(43700),g=n(80264),f=n(31607),j=n(92432),y=n(51870),m=n(85893);function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=l.useState(null),n=(0,r.Z)(t,2),a=n[0],o=(n[1],(0,l.useState)([])),u=o[0],c=o[1],h=(0,l.useState)([]),d=h[0],x=h[1],g=(0,l.useState)([]),p=g[0],v=g[1],S=(0,l.useState)([]),Z=S[0],D=S[1],w=(Boolean(a),[]),F=(0,l.useState)([]),k=(F[0],F[1],(0,l.useState)([])),L=(k[0],k[1],(0,l.useState)([])),T=(L[0],L[1],(0,l.useState)([])),H=(T[0],T[1],(0,l.useState)(!1));H[0],H[1];function C(t){var n,r=[],l=[],a=[],s=[],i=0,o=b(t.observations);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(u.lab==e.lab1)null==u.temperature&&(u.temperature=-1),null==u.humidity&&(u.humidity=-1),(i=new Date(u.time).getTime())>new Date(e.startDate).getTime()&&i<new Date(e.endDate).getTime()&&(u.humidity>-1&&r.push({x:i,y:u.humidity}),u.temperature>-1&&l.push({x:i,y:u.temperature}));if(u.lab==e.lab2)null==u.temperature&&(u.temperature=-1),null==u.humidity&&(u.humidity=-1),(i=new Date(u.time).getTime())>new Date(e.startDate).getTime()&&i<new Date(e.endDate).getTime()&&(u.humidity>-1&&a.push({x:i,y:u.humidity}),u.temperature>-1&&s.push({x:i,y:u.temperature}))}}catch(h){o.e(h)}finally{o.f()}console.log(l),console.log(r),console.log(s),console.log(a);var c=new Date(e.startDate).getTime();return 0==l.length&&(console.log(l),l.push({x:c,y:null})),0==r.length&&(console.log(r),r.push({x:c,y:null})),0==s.length&&(console.log(s),s.push({x:c,y:null})),0==a.length&&(console.log(a),a.push({x:c,y:null})),[l,r,s,a]}e.lab1;console.log([e.lab1,e.lab2]);var M='\n  query queryLab {\n    observations(where: {_or: [{lab: {_eq: "'+e.lab1+'"}}, {lab: {_eq: "'+e.lab2+'"}}]}) {\n      humidity\n      lab\n      temperature\n      time\n    }\n  }\n  ',W=(0,j.aM)({query:M}),A=(0,r.Z)(W,2),X=A[0],I=X.data,_=X.fetching;X.error,A[1];null!=I?console.log("data is not null"):console.log("failed");if(_)console.log("Fetching");else{var B,N=b(I.observations);try{for(N.s();!(B=N.n()).done;){var q=B.value;w.includes(q.lab)?console.log("Done"):w.push(q.lab)}}catch(O){N.e(O)}finally{N.f()}}if(_)return(0,m.jsx)(f.Z,{type:"Puff",color:"#3576cb",height:50,width:50,timeout:4e3});console.log(I);var U=[],z=[],Y=[],E=[];if(void 0!=I){var K=C(I);U=K[0],z=K[1],Y=K[2],E=K[3]}return(0,m.jsx)(m.Fragment,{children:U!=[]&&z!=[]&&Y!=[]&&E!=[]?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(s.Z,{children:[(0,m.jsx)(i.Z,{children:null!=u[0]?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h5",{children:["Mouse hover for Lab ",e.lab1," (red)"]}),(0,m.jsxs)("p",{children:["x: ",new Date(u[0].x).toString().substring(0,33)]}),(0,m.jsx)(m.Fragment,{children:null!=u[0].y?(0,m.jsxs)("p",{children:["y: ",u[0].y," degrees F"]}):(0,m.jsx)("p",{children:" There is no data for the hovered date/time. "})})]}):null}),(0,m.jsx)(i.Z,{children:null!=d[0]?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h5",{children:["Mouse hover for Lab ",e.lab2," (black)"]}),(0,m.jsxs)("p",{children:["x: ",new Date(d[0].x).toString().substring(0,33)]}),(0,m.jsx)(m.Fragment,{children:null!=d[0].y?(0,m.jsxs)("p",{children:["y: ",d[0].y," degrees F"]}):(0,m.jsx)("p",{children:" There is no data for the hovered date/time. "})})]}):null})]}),(0,m.jsxs)(y.dp,{width:1e3,height:800,margin:{left:100,right:10,top:10,bottom:300},yDomain:[50,100],children:[(0,m.jsx)(y.pW,{}),(0,m.jsx)(y.xL,{}),(0,m.jsx)(y.B2,{title:"Temperature (\xb0F)"}),(0,m.jsx)(y.Kc,{title:"Hour",tickLabelAngle:-90,tickFormat:function(e){return new Date(e).toString().substring(0,33)}}),(0,m.jsx)(y.LU,{curve:"curveMonotoneX",color:"#FF6978",size:2,strokeWidth:3,strokeStyle:"dashed",onNearestXY:function(e){return c([e,"Hovering on First Lab"])},style:{fill:"none"},data:U,opacity:1}),(0,m.jsx)(y.LU,{curve:"curveMonotoneX",color:"#352D39",size:2,strokeWidth:3,strokeStyle:"dashed",onNearestXY:function(e){return x([e,"Hovering on Second Lab"])},style:{fill:"none"},data:Y,opacity:1})]}),(0,m.jsxs)(s.Z,{children:[(0,m.jsx)(i.Z,{children:null!=p[0]?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h5",{children:["Mouse hover for Lab ",e.lab1," (red)"]}),(0,m.jsxs)("p",{children:["x: ",new Date(p[0].x).toString().substring(0,33)]}),(0,m.jsx)(m.Fragment,{children:null!=p[0].y?(0,m.jsxs)("p",{children:["y: ",p[0].y,"%"]}):(0,m.jsx)("p",{children:" There is no data for the hovered date/time. "})})]}):null}),(0,m.jsx)(i.Z,{children:null!=Z[0]?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h5",{children:["Mouse hover for Lab ",e.lab2," (black)"]}),(0,m.jsxs)("p",{children:["x: ",new Date(Z[0].x).toString().substring(0,33)]}),(0,m.jsx)(m.Fragment,{children:null!=Z[0].y?(0,m.jsxs)("p",{children:["y: ",Z[0].y,"%"]}):(0,m.jsx)("p",{children:" There is no data for the hovered date/time. "})})]}):null})]}),(0,m.jsxs)(y.dp,{width:1e3,height:800,margin:{left:100,right:10,top:10,bottom:300},yDomain:[0,100],children:[(0,m.jsx)(y.pW,{}),(0,m.jsx)(y.xL,{}),(0,m.jsx)(y.B2,{title:"Humidity (%)"}),(0,m.jsx)(y.Kc,{title:"Hour",tickFormat:function(e){return new Date(e).toString().substring(0,33)},tickLabelAngle:-90}),(0,m.jsx)(y.LU,{curve:"curveMonotoneX",color:"#FF6978",size:2,strokeWidth:3,strokeStyle:"dashed",onNearestXY:function(e){return v([e,"Hovering on First Lab"])},style:{fill:"none"},data:z,opacity:1}),(0,m.jsx)(y.LU,{curve:"curveMonotoneX",color:"#352D39",size:2,strokeWidth:3,strokeStyle:"dashed",onNearestXY:function(e){return D([e,"Hovering on Second Lab"])},style:{fill:"none"},data:E,opacity:1})]})]}):null})},S=function(e){var t=l.useState(null),n=(0,r.Z)(t,2),o=n[0],f=(n[1],Boolean(o),["H309","H351","H353","H355","H424","H460","T303","T449","T454","TB01","TB15"]),j=(0,l.useState)(0),y=(j[0],j[1],(0,l.useState)([null,null])),b=y[0],p=y[1],S=(0,r.Z)(b,2),Z=S[0],D=S[1],w=(0,l.useState)([]),F=(w[0],w[1],(0,l.useState)([])),k=(F[0],F[1],(0,l.useState)([])),L=(k[0],k[1],(0,l.useState)([])),T=(L[0],L[1],(0,l.useState)(null)),H=T[0],C=T[1],M=(0,l.useState)(null),W=M[0],A=M[1],X=(0,l.useState)(!1),I=X[0],_=X[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(a.Z,{style:{width:"80%",borderStyle:"none",marginTop:"1.75rem",padding:"1rem"},width:1e3,height:1e3,children:[(0,m.jsxs)(s.Z,{children:[(0,m.jsx)(i.Z,{children:(0,m.jsxs)(d.Z,{fullWidth:!0,children:[(0,m.jsx)(x.Z,{id:"category-select-label",children:"Select First Lab"}),(0,m.jsx)(g.Z,{labelId:"category-select-label",value:H,onChange:function(e){C(e.target.value)},children:f.map((function(e,t){return(0,m.jsxs)(h.Z,{value:t,children:[" ",e," "]},t)}))})]})}),(0,m.jsx)(i.Z,{children:(0,m.jsxs)(d.Z,{fullWidth:!0,children:[(0,m.jsx)(x.Z,{id:"category-select-label",children:"Select Second Lab"}),(0,m.jsx)(g.Z,{labelId:"category-select-label",value:W,onChange:function(e){A(e.target.value)},children:f.map((function(e,t){return(0,m.jsxs)(h.Z,{value:t,children:[" ",e," "]},t)}))})]})}),(0,m.jsx)(i.Z,{children:(0,m.jsxs)(d.Z,{fullWidth:!0,children:[(0,m.jsx)("label",{children:"Start and end dates"}),(0,m.jsx)(u(),{maxDate:new Date(2021,7),selectsRange:!0,startDate:Z,endDate:D,onChange:function(e){p(e)},isClearable:!0})]})})]}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(i.Z,{children:(0,m.jsx)(c.Z,{variant:"contained",onClick:function(){_(!0)},children:"Generate comparison"})})})]}),(0,m.jsxs)(a.Z,{children:[(0,m.jsx)(s.Z,{children:(0,m.jsx)(i.Z,{children:null!=H&&null!=W&&1==I?(0,m.jsx)(v,{lab1:f[parseInt(H)],lab2:f[parseInt(W)],startDate:Z.toString(),endDate:D.toString()}):null})}),(0,m.jsx)(s.Z,{children:1==I?(0,m.jsx)(c.Z,{href:"/",children:"Clear Comparison"}):null})]})]})}}}]);